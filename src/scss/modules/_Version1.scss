.version-1 {
  position: absolute;
  top: 0; left: 0;
  width: 100%; height: 100%;
  overflow: hidden;

  &::after {
    content: ""; display: block;
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background-color: #333;
    opacity: 0;
  }
}

/**
 * stage
 */
.version-1__stage {
  position: absolute;
  top: 0; left: 0;
  width: 100%; height: 200%;
  z-index: 1;
}

/**
 * stage-1, stage-2
 */
.version-1__stage-1,
.version-1__stage-2 {
  position: absolute; left: 0;
  width: 100%; height: 50%;
  overflow: hidden;
}

/**
 * stage-1
 */
.version-1__stage-1 { top: 0; }

/*** fantasy ***/
.version-1__fantasy {
  position: absolute;
  bottom: 0; left: 0;
  width: 100%; height: 100%;

  .bg,
  .bg-img,
  .silhouette {
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;
    overflow: hidden;

    &::before,
    &::after {
      content: ""; display: block;
      position: absolute;
      top: 0; left: 0;
      width: 100%; height: 100%;
    }
  }

  .bg {
    border-bottom-left-radius: 50%;
    border-bottom-right-radius: 50%;
    background-color: #eee;
    transform: translateY(-100%);
  }
  
  .bg-img {
    background-image: url(../images/version_1/bg.svg);
    background-size: 30px;
    opacity: 0;
  }

  .silhouette {
    opacity: 0;
    &::before,
    &::after {
      background-size: auto 80%;
      background-position: center bottom;
      background-repeat: no-repeat;
    }
    &::before { background-image: url(../images/version_1/silhouette/1.svg); }
    &::after  { background-image: url(../images/version_1/silhouette/2.svg); }
  }
  
  .message {
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;

    div {
      position: absolute; top: 0;
      width: 40px; height: 100%;
      background-color: black;
      background-size: 65% auto;
      background-repeat: no-repeat;
      opacity: 0;

      &::after {
        content: ""; display: block;
        position: absolute;
        top: 0; left: 0;
        width: 100%; height: 100%;
        background-color: white;
      }
    }
    div:nth-child(1) {
      left: 10%;
      background-image: url(../images/version_1/message/1.svg);
      background-position: center 10%;
    }
    div:nth-child(2) {
      right: 10%;
      background-image: url(../images/version_1/message/2.svg);
      background-position: center 90%;
    }
    div:nth-child(3) {
      left: calc(50% - 20px);
      background-image: url(../images/version_1/message/3.svg);
      background-position: center;
    }
  }
}

/**
 * stage-2
 */
.version-1__stage-2 { bottom: 0; background-color: #333; }


/***********************************************************************************
 * animation 
 ***********************************************************************************/
.version-1::after { animation: fadein 0.05s ease 2.8s forwards; }
.version-1__fantasy {
  .bg { animation: version-1__fail-bg 0.6s ease-out 2.2s forwards; }
  .bg-img { animation: version-1__show-bg-img 0.8s ease-out 2.7s forwards; }
  .message {
    div:nth-child(1) {
      animation:
        fadein 0.1s ease 3s forwards,
        slide-bottom 0.5s ease 4s reverse forwards;
      &::after { animation: slide-bottom 0.5s ease-in 3s reverse forwards; }
    }
    div:nth-child(2) {
      animation:
        fadein 0.1s ease 3s forwards,
        slide-top 0.5s ease 4s reverse forwards;
      &::after { animation: slide-top 0.5s ease-in 3s reverse forwards; }
    }
    div:nth-child(3) {
      animation: fadein 0.1s ease 4.2s forwards;
      &::after { animation: slide-top 0.7s ease-in 4.2s reverse forwards; }
    }
  }
  .silhouette {
    animation: version-1__show-silhouette 1s ease 3.5s forwards;
    &::after { animation: fadeout 1.5s ease-out 4s forwards; }
  }
}
.version-1__stage { animation: version-1__rotate-stage 1.2s ease 5s forwards; }